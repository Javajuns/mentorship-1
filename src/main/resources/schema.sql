CREATE TABLE USERS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LOGIN VARCHAR(35),FIRST_NAME VARCHAR(35),SECOND_NAME VARCHAR(35),EMAIL VARCHAR(35),DATE_CREATED DATE,IS_ADMIN INTEGER);
ALTER TABLE USERS ALTER COLUMN ID RESTART WITH 1;
CREATE TABLE FORUM_TOPICS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,SUBJECT VARCHAR(35),TEXT VARCHAR(255),IS_CLOSED INTEGER,DATE_CREATED DATE);
ALTER TABLE FORUM_TOPICS ALTER COLUMN ID RESTART WITH 1;
CREATE TABLE FORUM_COMMENTS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USER_ID INTEGER,TOPIC_ID INTEGER,MSG VARCHAR(255),DATE_CREATED DATE,CONSTRAINT FK_USER_ID FOREIGN KEY(USER_ID) REFERENCES USERS(ID),CONSTRAINT FK_TOPIC_ID FOREIGN KEY(TOPIC_ID) REFERENCES FORUM_TOPICS(ID));
ALTER TABLE FORUM_COMMENTS ALTER COLUMN ID RESTART WITH 1;
CREATE INDEX IDX_USER_ID ON FORUM_COMMENTS(USER_ID)
CREATE INDEX IDX_TOPIC_ID ON FORUM_COMMENTS(TOPIC_ID);
CREATE TABLE CATEGORY(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255) NOT NULL,PARENT_ID INTEGER);
ALTER TABLE CATEGORY ALTER COLUMN ID RESTART WITH 2;
CREATE TABLE GOODS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),PRICE DOUBLE,CATEGORY_ID INTEGER,REST DOUBLE,CONSTRAINT FK_CATEGORY_ID FOREIGN KEY(CATEGORY_ID) REFERENCES CATEGORY(ID));
ALTER TABLE GOODS ALTER COLUMN ID RESTART WITH 1;
CREATE INDEX IDX_NAME ON GOODS(NAME);
CREATE TABLE ORDERS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATE_CREATED DATE,USER_ID INTEGER,GOODS_ID INTEGER,AMOUNT DOUBLE,CONSTRAINT FK_GOODS_ID FOREIGN KEY(GOODS_ID) REFERENCES GOODS(ID));
ALTER TABLE ORDERS ALTER COLUMN ID RESTART WITH 1;
