CREATE TABLE PUBLIC.USERS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LOGIN VARCHAR(35),FIRST_NAME VARCHAR(35),SECOND_NAME VARCHAR(35),EMAIL VARCHAR(35),DATE_CREATED DATE,IS_ADMIN BOOLEAN DEFAULT FALSE NOT NULL);
CREATE TABLE PUBLIC.FORUM_TOPICS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,SUBJECT VARCHAR(35),TEXT VARCHAR(255),IS_CLOSED INTEGER,DATE_CREATED DATE);
CREATE TABLE PUBLIC.FORUM_COMMENTS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USER_ID INTEGER,TOPIC_ID INTEGER,MSG VARCHAR(255),DATE_CREATED DATE,CONSTRAINT FK_USER_ID FOREIGN KEY(USER_ID) REFERENCES USERS(ID),CONSTRAINT FK_TOPIC_ID FOREIGN KEY(TOPIC_ID) REFERENCES FORUM_TOPICS(ID));
CREATE INDEX PUBLIC.IDX_USER_ID ON FORUM_COMMENTS(USER_ID);
CREATE INDEX PUBLIC.IDX_TOPIC_ID ON FORUM_COMMENTS(TOPIC_ID);
CREATE TABLE PUBLIC.CATEGORY(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255) NOT NULL,PARENT_ID INTEGER);
CREATE TABLE PUBLIC.GOODS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),PRICE DOUBLE,CATEGORY_ID INTEGER,REST DOUBLE,CONSTRAINT FK_CATEGORY_ID FOREIGN KEY(CATEGORY_ID) REFERENCES CATEGORY(ID));
CREATE INDEX PUBLIC.IDX_NAME ON GOODS(NAME);
CREATE TABLE PUBLIC.ORDERS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATE_CREATED DATE,USER_ID INTEGER,GOODS_ID INTEGER,AMOUNT DOUBLE,CONSTRAINT FK_GOODS_ID FOREIGN KEY(GOODS_ID) REFERENCES GOODS(ID));
